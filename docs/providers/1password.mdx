---
title: 1Password Connect
description: Pull secrets from 1Password Connect across one or more vaults.
---

## Install

```bash
pnpm add @confkit/1password
```

## Usage

```ts title="conf/config.ts"
import { defineConfig, s } from 'confkit';
import { onePasswordSource } from '@confkit/1password';

export const config = defineConfig({
  sources: [onePasswordSource({ vaults: ['my-vault'] })],
  schema: { STRIPE_SECRET: s.secret(s.string()) },
});
```

## Options

- `url?: string` — Connect server URL (default `http://localhost:8080`)
- `token?: string` — Connect token (defaults to `OP_CONNECT_TOKEN`)
- `vaults: string[]` — vault IDs or names to search (required)
- `titlePrefix?: string` — include items whose titles start with this prefix
- `mapItemToKey?: (item) => string` — convert 1P item → key (default: title upper‑snake)
- `fieldSelector?: (fields) => string | undefined` — select which field to use (default: PASSWORD or first string field)
- `ttlMs?`, `jitter?`, `background?`, `onRotate?`

## Notes

- Lists items in provided vaults, fetches each item to select a field, and builds key/value pairs